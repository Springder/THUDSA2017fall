# THU2017 3-1-1 TSP

------

### **描述**

　　Traveling Salesman Problem

　　市场上有很多种商品，旅行商Shrek做短期买卖赚取差价。他从一个城市购买一件商品，到达下一个相邻的城市就卖掉。如果这一次买卖无利可图，那么他就不会这么走。凭着自己和同伴多年的经验，他已经对地图上n个城市之间的差价了如指掌。两城市间可能有多种商品可赚取差价，此时Shrek只好倒卖利润最大的一件商品。

　　现在请你帮Shrek规划一条路线，使他能赚最多的钱。

### **输入**

　　第一行两个整数n、m。表示有n个城市，编号1~n

　　接下来有m行，每行三个整数a、b、price，表示从城市a到城市b可赚取差价price。

### **输出**

　　1个整数，赚钱最多的路线能赚取的差价price。

#### **输入样例**

```
4 4
2 1 5
1 3 3
3 4 1
1 4 5
```

#### **输出样例**

```
10
```

### **限制**

　　2 <= n <= 100,000

　　1 <= m <= 1,000,000

　　差价范围是[1, 1000]

　　输入保证道路之间没有形成环。

　　时间：2 sec

　　空间：256MB

### **提示**

#### **一级提示**

　　●拓扑排序（6.8节）

　　●http://www.cnblogs.com/shanyou/archive/2006/11/16/562861.html

　　●http://blog.csdn.net/liwen_7/article/details/7298736

#### **二级提示**

　　[点击下载 (.docx)](https://dsa.cs.tsinghua.edu.cn/oj/attachment/7315/73150cfc742986fe9b7a2fdbd68df065e83af007.docx)